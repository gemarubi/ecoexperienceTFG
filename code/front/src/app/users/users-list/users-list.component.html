<div class="container-fluid p-5 pt-0 mt-0 min-vh-100 bg-admin d-flex  flex-column ">
  <div class="d-flex justify-content-between user-header tittle-color  p-3 mt-4 mb-3 rounded-4 shadow-lg bg-body">
    <h2 class="mt-2 ms-3">Usuarios</h2>
    <button class="bg-add-button" (click)="createUser()" mat-fab extended aria-label="Example icon button with a menu icon">
      <mat-icon>person_add</mat-icon>
      Añadir Usuario
    </button>
  </div>
  <div class="mat-elevation-z8 overflow-auto table-responsive-md border shadow-lg bg-body rounded">
  <table mat-table [dataSource]="users" class="mat-elevation-z8 w-100 shadow-lg p-3 bg-body rounded">

    <ng-container matColumnDef="nombre">
      <th class="bg-header-table" mat-header-cell *matHeaderCellDef>Nombre</th>
      <td mat-cell *matCellDef="let user">{{ user.nombre }}</td>
    </ng-container>


    <ng-container matColumnDef="apellidos">
      <th class="bg-header-table" mat-header-cell *matHeaderCellDef>Apellidos</th>
      <td mat-cell *matCellDef="let user">{{ user.apellidos }}</td>
    </ng-container>
    <ng-container matColumnDef="dni">
      <th class="bg-header-table" mat-header-cell *matHeaderCellDef>DNI</th>
      <td mat-cell *matCellDef="let user">{{ user.dni }}</td>
    </ng-container>

    <ng-container matColumnDef="correo">
      <th class="bg-header-table" mat-header-cell *matHeaderCellDef>Correo</th>
      <td mat-cell *matCellDef="let user">{{ user.correo }}</td>
    </ng-container>



    <ng-container matColumnDef="pais">
      <th class="bg-header-table" mat-header-cell *matHeaderCellDef>País</th>
      <td mat-cell *matCellDef="let user">{{ user.pais }}</td>
    </ng-container>


    <ng-container matColumnDef="roles">
      <th class="bg-header-table" mat-header-cell *matHeaderCellDef>Roles</th>
      <td mat-cell *matCellDef="let user">
        <span *ngFor="let role of user.roles; let last = last">
          {{ role.descripcion }}<span *ngIf="!last">, </span>
        </span>
      </td>
    </ng-container>
    <ng-container matColumnDef="accion">
      <th  class="bg-header-table text-center align-middle" mat-header-cell *matHeaderCellDef>Acción</th>
      <td class="text-center align-middle" mat-cell *matCellDef="let user">
        <div class="d-flex justify-content-center gap-2 justify-content-md-center">

          <button mat-icon-button aria-label="Example icon button with a delete icon" matTooltip="Editar usuario"
            title="Editar usuario" (click)="createUser(user)">
            <mat-icon class="text-success">edit</mat-icon>
          </button>
          <button mat-icon-button aria-label="Example icon button with a delete icon" matTooltip="Borrar usuario"
            title="Eliminar usuario">
            <mat-icon class="text-danger" (click)="deleteUser(user)">delete</mat-icon>
          </button>
        </div>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>
</div>
